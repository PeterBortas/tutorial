<!doctype html>
<html>
	<head>
	  <meta charset="utf-8">
	  <title>Inheritance</title>
    <style>
    body {
      font: 16px/1.6 arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background: #066AB2;
    }
    header h1 {
      color: white;
      margin: 0;
      font-size: 48px;
      letter-spacing: -2px;
    }
    header .container {
      padding-top: 15px;
      padding-bottom: 15px;
    }

    a { color: #066AB2; }
    a:hover { color: #222; }

    h1, h2, h3, h4, h5, h6 { margin-bottom: 0; }
    h1 + h2, h1 + h1, h2 + h2, h2 + h3 { margin-top: 0; }

    h1 { font-size: 36px; }
    h2 { font-size: 30px; }
    h3 { font-size: 24px; }
    h4 { font-size: 20px; }
    h5 { font-size: 18px; }
    h6 { font-size: 16px; }

    .container > *:first-child {
      margin-top: 0;
    }

    .container > *:last-child {
      margin-bottom: 0;
    }

    .container {
      padding: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    pre code {
      padding: 20px;
      border: 1px solid #ddd;
      display: block;
      background: #f8f8f8;
      border-radius: 3px;
    }

    footer {
      background: #222223;
      color: #fff;
    }
    </style>
	</head>
	<body>
	  <header>
      <div class="container">
        <h1>Pike Tutorial</h1>
      </div>
    </header>
    <section id="main">
      <div class="container"><h1>Inheritance</h1><p>A class may <strong>base class</strong>other class. This means that the inheriting class (also called <strong>base class</strong>r <strong>base class</strong>s<strong> or </strong>ts with all the methods and member variables that the inherited class, (also called <strong>base class</strong> or <strong>base class</strong>) has. The subclass can then have its own, additional methods and member variables.</p><p>One situation when inheritance can be useful is when you want to create two or more classes that have a common part. Birds and fishes, for example, are different, with different characteristics, but they do have much in common. You can make use of this by creating a class, for example called &quot;animal&quot;, with the common properties. Then you define the two subclasses &quot;bird&quot; and &quot;fish&quot;, which inherit from &quot;animal&quot;.</p><p>At other times you already have a class that almost does what you want it to, but you would like to add something to it. For example, a class &quot;connection&quot;, which models an Internet connection, may have everything you need except for a time limit on how long you can be connected. You could then create a new class, &quot;restricted_connection&quot;, which inherits from the old connection class, but with the time limit added.</p><p>In both of these situations, we have what is sometimes called an <strong>is a</strong>elationship<strong> animal, a restricted_connection </strong>cted_connection <strong>is a</strong> connection. We recommend that you use inheritance in this way: to model is-a relationships.</p><p>You use the keyword <code class="language-pike">inherit</code> to let a class inherit from another class. For example, to create the sub-classes <code class="language-pike">bird</code> and <code class="language-pike">fish</code>, which both inherit from <code class="language-pike">animal</code>, you would write:</p><pre><code class="language-pike"><span style='color:#006'><b>class</b></span>&#160;bird&#160;&#160;
<span style='color:#00C'>{</span>&#160;&#160;
&#160;&#160;<span style='color:#006'><b>inherit</b></span>&#160;animal<span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;<span style='color:#09F'><b>float</b></span>&#160;max_altitude<span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;
&#160;&#160;<span style='color:#09F'><b>void</b></span>&#160;fly<span style='color:#00C'>(</span><span style='color:#00C'>)</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>{</span>&#160;&#160;
&#160;&#160;&#160;&#160;<span style='color:#C00'>write</span><span style='color:#00C'>(</span>name&#160;<span style='color:#00C'>+</span>&#160;<span style='color:#070'>&#34;&#160;flies.\n&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>}</span>&#160;&#160;
&#160;&#160;
&#160;&#160;<span style='color:#09F'><b>void</b></span>&#160;eat<span style='color:#00C'>(</span><span style='color:#09F'><b>string</b></span>&#160;food<span style='color:#00C'>)</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>{</span>&#160;&#160;
&#160;&#160;&#160;&#160;<span style='color:#C00'>write</span><span style='color:#00C'>(</span>name&#160;<span style='color:#00C'>+</span>&#160;<span style='color:#070'>&#34;&#160;flutters&#160;its&#160;wings.\n&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;&#160;&#160;<span style='color:#00C'>:</span><span style='color:#00C'>:</span>eat<span style='color:#00C'>(</span>food<span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>}</span>&#160;&#160;
<span style='color:#00C'>}</span>&#160;&#160;
&#160;&#160;
<span style='color:#006'><b>class</b></span>&#160;fish&#160;&#160;
<span style='color:#00C'>{</span>&#160;&#160;
&#160;&#160;<span style='color:#006'><b>inherit</b></span>&#160;animal<span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;<span style='color:#09F'><b>float</b></span>&#160;max_depth<span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;
&#160;&#160;<span style='color:#09F'><b>void</b></span>&#160;swim<span style='color:#00C'>(</span><span style='color:#00C'>)</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>{</span>&#160;&#160;
&#160;&#160;&#160;&#160;<span style='color:#C00'>write</span><span style='color:#00C'>(</span>name&#160;<span style='color:#00C'>+</span>&#160;<span style='color:#070'>&#34;&#160;swims.\n&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;<span style='color:#00C'>}</span>&#160;&#160;
<span style='color:#00C'>}</span>&#160;
</code></pre><p>A <code class="language-pike">bird</code> like Tweety can do anything an animal can do, and it has all the data that an animal has. But it can also fly (the method <code class="language-pike">fly</code>), and it has a maximum altitude (the member variable <code class="language-pike">max_altitude</code>).</p><p>Note that the class <code class="language-pike">bird</code> has its own method called <code class="language-pike">eat</code>. There was one in <code class="language-pike">animal</code> too, but the new one <strong>overrides</strong> the old one, and will be used in all <code class="language-pike">bird</code> objects. If you have a method in the subclass with the same name as a method in the superclass, the module in the subclass <strong>overrides</strong><strong>overrides</strong> the method in the in superclass.</p><p>If you still want to call the method in the superclass, you can prefix the name with two colons (<code class="language-pike">::</code>). That is what is done in the <code class="language-pike">eat</code> method: after fluttering its wings at the sight of the food, the bird will do the actual eating, and that is done with a call to <code class="language-pike">::eat</code>.</p><p>You can now use our two new classes:</p><pre><code class="language-pike">bird&#160;tweety&#160;<span style='color:#00C'>=</span>&#160;bird<span style='color:#00C'>(</span><span style='color:#070'>&#34;Tweety&#34;</span><span style='color:#00C'>,</span>&#160;<span style='color:purple'>0</span><span style='color:#00C'>.</span><span style='color:purple'>13</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
tweety<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>eat<span style='color:#00C'>(</span><span style='color:#070'>&#34;corn&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
tweety<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>fly<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
tweety<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>max_altitude&#160;<span style='color:#00C'>=</span>&#160;<span style='color:purple'>180</span><span style='color:#00C'>.</span><span style='color:purple'>0</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;
fish&#160;b&#160;<span style='color:#00C'>=</span>&#160;fish<span style='color:#00C'>(</span><span style='color:#070'>&#34;Bubbles&#34;</span><span style='color:#00C'>,</span>&#160;<span style='color:purple'>1</span><span style='color:#00C'>.</span><span style='color:purple'>13</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
b<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>eat<span style='color:#00C'>(</span><span style='color:#070'>&#34;fish&#160;food&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
b<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>swim<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
&#160;&#160;
animal&#160;w&#160;<span style='color:#00C'>=</span>&#160;fish<span style='color:#00C'>(</span><span style='color:#070'>&#34;Willy&#34;</span><span style='color:#00C'>,</span>&#160;<span style='color:purple'>4000</span><span style='color:#00C'>.</span><span style='color:purple'>0</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
w<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>eat<span style='color:#00C'>(</span><span style='color:#070'>&#34;tourists&#34;</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;&#160;
w<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>swim<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;
</code></pre><p>One thing that needs explaining is the last line in the example above:</p><pre><code class="language-pike">w<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>swim<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;
</code></pre><p>The variable <code class="language-pike">w</code> is of type <code class="language-pike">animal</code>, and that class has no method called <code class="language-pike">swim</code>. But that doesn't matter, since Pike always looks at the <strong>static binding</strong> stored in the variable. In this case, Pike looks at the contents of the variable <code class="language-pike">w</code>, finds that it is a <code class="language-pike">fish</code>, and then calls the method <code class="language-pike">swim</code> in that object. Looking at the actual object like this is called <strong>static binding</strong>*. (The opposite, to just look at the type of the variable and ignore what's actually in it, would be called <strong>static binding</strong>.)</p><p>As we said, we used inheritance to express <strong>is-a relationships</strong>. But there are other ways of using inheritance, for example to simply get access to some functionality. If you write a program that needs to work with a file on your hard disk, we could inherit the file-handling class <code class="language-pike">Stdio.File</code>, and then use all the methods in that class as if you had written them in your own program:</p><pre><code class="language-pike"><span style='color:#006'><b>inherit</b></span>&#160;<span style='color:#909'><b>Stdio</b></span><span style='color:#00C'>.</span>File<span style='color:#00C'>;</span>&#160;&#160;
<span style='color:#818A9E'>//&#160;...</span>&#160;
read<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;
</code></pre><p>This works, but we recommend that you create an object of the type <code class="language-pike">Stdio.File</code> instead, and call the methods for that object:</p><pre><code class="language-pike"><span style='color:#909'><b>Stdio</b></span><span style='color:#00C'>.</span>File&#160;the_file<span style='color:#00C'>;</span>&#160;&#160;
<span style='color:#818A9E'>//&#160;...</span>&#160;
the_file<span style='color:#00C'>-</span><span style='color:#00C'>&#62;</span>read<span style='color:#00C'>(</span><span style='color:#00C'>)</span><span style='color:#00C'>;</span>&#160;
</code></pre></div>
    </section>
    <footer>
      <div class="container">
        Generated: 2015-08-21 14:28
      </div>
    </footer>
	</body>
</html>
